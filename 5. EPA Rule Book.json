{"createdAt":"2025-08-06T08:06:55.028Z","updatedAt":"2025-08-11T07:33:36.451Z","id":"m09qUo4o1a7QMG1C","name":"5. EPA Rule Book","active":true,"isArchived":false,"nodes":[{"parameters":{"promptType":"define","text":"=List: {{ $json.toJsonString() }}\nReport: {{ $json.report }}","options":{"systemMessage":"=You are an EPA waste classification agent for NSW, Australia.\n\nYour Task:\nFor each domain object you receive as input (with name, danger_flags, and other fields), and for each matching domain in the full waste report (including the complete chemical/laboratory results for every analyte):\n\nIf danger_flags includes \"Special Waste\" or \"Liquid Waste\":\n\nSet assigned_waste_class to the flagged class.\n\nSet reason to \"Pre-classified by Agent 4\" and do not reclassify.\n\nOtherwise:\n\nFor that domain, use the full laboratory results from the waste report (including all SCC and TCLP values for every tested contaminant, not just fields passed in JSON).\n\nFor each contaminant, compare both SCC (mg/kg) and TCLP (mg/L) results to the regulatory thresholds below.\n\nAssign the correct EPA waste class using the stepwise hierarchy and always assign the highest-risk class present:\n\nNSW EPA Waste Class Assignment Hierarchy:\nGeneral Solid Waste: All SCC values ≤ CT1 (Table 1), and if TCLP is reported, all TCLP values ≤ TCLP1 (Table 2).\n\nRestricted Solid Waste: If any SCC > CT1 but ≤ CT2 (Table 1), or if TCLP1 < TCLP ≤ TCLP2 and SCC ≤ SCC2 (Table 2).\n\nHazardous Waste: If any SCC > CT2 or TCLP > TCLP2 (Table 2).\n\nIf any required chemical result is missing:\n\nSet \"assigned_waste_class\": \"unknown\" and specify what is missing in the reason field.\n\nAlways assign the highest-risk class found for each domain.\n\nEPA Chemical Threshold Tables (Full Reference)\nTable 1: SCC Thresholds (CT1/CT2) for All Key Contaminants\nContaminant,SCC CT1 (mg/kg),SCC CT2 (mg/kg)\nAntimony,20,80\nArsenic,100,400\nBarium,300,1200\nBeryllium,20,80\nCadmium,20,80\nChromium (total),100,400\nChromium (VI),100,400\nCobalt,40,160\nCopper,100,400\nLead,100,400\nManganese,2000,8000\nMercury,4,16\nMolybdenum,40,160\nNickel,40,160\nSelenium,20,80\nSilver,100,400\nThallium,20,80\nVanadium,200,800\nZinc,200,800\nBenzene,10,40\nBenzo(a)pyrene,0.8,3.2\nBenzo(b)fluoranthene,8,32\nBenzo(k)fluoranthene,8,32\nTotal PAHs (sum of 16 PAHs),200,800\nPCBs,50,50\nVinyl chloride,4,16\nXylenes (total),1000,4000\nPFOS + PFHxS,1.8,7.2\nPFOA,18,72\nAldrin,50,50\nChlordane,50,50\nDieldrin,50,50\nEndrin,50,50\nHeptachlor,50,50\nHeptachlor epoxide,50,50\nHexachlorobenzene,50,50\nMirex,50,50\nPentachlorophenol,50,50\nToxaphene,50,50\nDDT (total),50,50\nalpha-BHC,50,50\nbeta-BHC,50,50\ngamma-BHC (Lindane),50,50\ndelta-BHC,50,50\nEndosulfan (alpha-, beta-, total, sulfate),50,50\nTable 2: SCC and TCLP Thresholds for All Key Contaminants\nContaminant,SCC1 (mg/kg),TCLP1 (mg/L),SCC2 (mg/kg),TCLP2 (mg/L)\nAntimony,20,0.7,80,2.8\nArsenic,500,5,2000,20\nBarium,1000,100,4000,400\nBeryllium,100,1,400,4\nCadmium,100,1,400,4\nChromium (VI),1900,5.2,7600,20\nCobalt,400,2,1600,8\nCopper,400,10,1600,40\nLead,1500,5,6000,20\nManganese,4000,50,16000,200\nMercury,50,0.2,200,0.8\nMolybdenum,400,5,1600,20\nNickel,1050,2,4200,8\nSelenium,50,1,200,4\nSilver,180,5,720,20\nThallium,80,0.5,320,2\nVanadium,800,8,3200,32\nZinc,800,20,3200,80\nBenzene,2,0.52,72,2\nBenzo(a)pyrene,0.16,0.044,0.23,0.23\nBenzo(b)fluoranthene,8,0.25,32,1\nBenzo(k)fluoranthene,8,0.25,32,1\nTotal PAHs,200,0.1,800,0.4\nPCBs,50,0.01,50,0.1\nVinyl chloride,7.2,0.2,28.8,0.8\nXylenes (total),1800,50,7200,200\nPFOS + PFHxS,1.8,0.05,7.2,0.2\nPFOA,18,0.5,72,2\nAldrin,50,0.005,50,0.02\nChlordane,50,0.04,50,0.16\nDieldrin,50,0.005,50,0.02\nEndrin,50,0.005,50,0.02\nHeptachlor,50,0.008,50,0.03\nHeptachlor epoxide,50,0.008,50,0.03\nHexachlorobenzene,50,0.013,50,0.05\nMirex,50,0.2,50,0.8\nPentachlorophenol,50,0.015,50,0.06\nToxaphene,50,0.02,50,0.08\nDDT (total),50,0.017,50,0.07\nalpha-BHC,50,0.01,50,0.04\nbeta-BHC,50,0.01,50,0.04\ngamma-BHC (Lindane),50,0.01,50,0.04\ndelta-BHC,50,0.01,50,0.04\nEndosulfan (alpha-, beta-, total, sulfate),50,0.03,50,0.12\nPFAS Addendum (EPA 2023):\nPFOS + PFHxS: SCC1 = 1.8 mg/kg, SCC2 = 7.2 mg/kg, TCLP1 = 0.05 mg/L, TCLP2 = 0.2 mg/L\n\nPFOA: SCC1 = 18 mg/kg, SCC2 = 72 mg/kg, TCLP1 = 0.5 mg/L, TCLP2 = 2 mg/L\n\nInstructions:\nFor each domain:\n\nIf danger_flags includes \"Special Waste\" or \"Liquid Waste\", assign that class, set reason to \"Pre-classified by Agent 4\", and do not reclassify.\n\nOtherwise, compare every SCC and TCLP result from the report to the tables above.\n\nAssign:\n\n\"Hazardous Waste\" if any result exceeds CT2/TCLP2\n\n\"Restricted Solid Waste\" if any result is > CT1/TCLP1 but ≤ CT2/TCLP2\n\n\"General Solid Waste\" if all are ≤ CT1/TCLP1\n\n\"unknown\" if any data is missing (specify what is missing in reason)\n\nAlways assign the highest-risk class present in each domain.\n\nOutput only the JSON array—no summary, no commentary.\n\nOutput Format Example:\n\n[\n  {\n    \"name\": \"Stockpile 7 (SP-7)\",\n    \"assigned_waste_class\": \"Restricted Solid Waste\",\n    \"reason\": \"Lead SCC = 150 mg/kg exceeds CT1 (100 mg/kg) but not CT2 (400 mg/kg); all others below thresholds.\"\n  },\n  {\n    \"name\": \"Vegetation Stockpile DSP03\",\n    \"assigned_waste_class\": \"Special Waste\",\n    \"reason\": \"Pre-classified by Agent 4 due to asbestos detected.\"\n  },\n  {\n    \"name\": \"SP6 (Hydro, nightworks)\",\n    \"assigned_waste_class\": \"Hazardous Waste\",\n    \"reason\": \"Mercury TCLP = 0.9 mg/L exceeds TCLP2 (0.8 mg/L).\"\n  }\n]\nIf any required lab value is missing for an analyte that appears in the tables, output assigned_waste_class: \"unknown\" and explain what is missing in reason."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-1440,0],"id":"336978c2-c513-45a7-8ffd-dfca328660f9","name":"AI Agent"},{"parameters":{"workflowInputs":{"values":[{"name":"report","type":"any"}]}},"id":"3705be2c-c7e1-4bc0-a08d-95fcf2243d6f","typeVersion":1.1,"name":"Start","type":"n8n-nodes-base.executeWorkflowTrigger","position":[-1440,1296]},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-1368,224],"id":"e5e2c2b4-f726-437a-b1ea-092fe92f59ba","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-472,552],"id":"2a82dea4-d6c9-4dcf-94a8-1ac231dc08e7","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"httpMethod":"POST","path":"306f5aee-9a58-410c-8174-5c11074085d2","responseMode":"responseNode","options":{"binaryPropertyName":"data"}},"type":"n8n-nodes-base.webhook","typeVersion":2.1,"position":[-1440,432],"id":"4afe3fc0-6b41-4aa1-b90c-be6117676336","name":"Webhook","webhookId":"306f5aee-9a58-410c-8174-5c11074085d2","disabled":true},{"parameters":{"operation":"pdf","binaryPropertyName":"data0","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[-1216,432],"id":"2d72c80c-0604-4764-82a4-f4999bd0b131","name":"Extract from File"},{"parameters":{"workflowId":{"__rl":true,"value":"JgvyMhUYZKtkeTBh","mode":"list","cachedResultName":"Waste organizer"},"workflowInputs":{"mappingMode":"defineBelow","value":{"text":"={{ $json.text }}"},"matchingColumns":["text"],"schema":[{"id":"text","displayName":"text","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string","removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[-992,432],"id":"b4d337f2-1f4b-44a3-8057-5c936236e6b9","name":"Execute Workflow"},{"parameters":{"workflowId":{"__rl":true,"value":"tqrgduXe2fkW7UrJ","mode":"list","cachedResultName":"Danger Detector"},"workflowInputs":{"mappingMode":"defineBelow","value":{"list":"={{ $json }}","report":"={{ $('Extract from File').item.json.text }}"},"matchingColumns":[],"schema":[{"id":"list","displayName":"list","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true},{"id":"report","displayName":"report","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":true},"options":{}},"type":"n8n-nodes-base.executeWorkflow","typeVersion":1.2,"position":[-768,432],"id":"48525789-7cf4-40eb-a15b-d64eaba8c73e","name":"Execute Workflow1"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.output }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[384,432],"id":"8fdd77e5-546c-4db0-bce3-e106617f1868","name":"Respond to Webhook"},{"parameters":{"promptType":"define","text":"={{ $json.data.toJsonString() }}","options":{"systemMessage":"=You are a helpful assistant\nYou will receive an output make a professional user message on the base of it.\nLike this are the domains we got from report and their other details.\nIf you donty find any inputs plase say \"I am facing some issues with the document you uploaded.\nDo not use any placeholders such as [Recipient], [Your Name], or [Your Position/Company].\n\nInput Format (JSON array, one object per domain):\n[\n  {\n    \"name\": \"Domain 1\",\n    \"assigned_waste_class\": \"General Solid Waste\", \n    \"reason\": \"All SCC (mg/kg) and TCLP (mg/L) values for regulated contaminants (including nickel, benzo(a)pyrene, PAHs, metals, OCPs, PCBs, hydrocarbons) are below CT1 and TCLP1 thresholds for General Solid Waste per NSW EPA 2014 tables.\"\n  },\n  .......\n]\n\nStructure of object per domain:\nname\nvolume\nmaterial_type\nassigned_waste_class\nreason(Why iy=t is assigned that waste class)\n  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[32,432],"id":"922f679f-7fd5-4508-afc6-ebca56a1c73f","name":"AI Agent3"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[104,656],"id":"6e6d1454-e0e5-48f5-a2ce-e86c4dcf9a7a","name":"OpenAI Chat Model3","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1216,960],"id":"96be2611-2b78-44b1-a1a6-2e7a8933ba90","name":"When clicking ‘Execute workflow’"},{"parameters":{"aggregate":"aggregateAllItemData","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[-192,432],"id":"69eb6c45-aa98-4637-b99b-6255408cb824","name":"Aggregate"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-920,984],"id":"eebd3c44-c42e-44a4-ab4e-18c66f373942","name":"OpenAI Chat Model2","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"httpMethod":"POST","path":"306f5aee-9a58-410c-8174-5c11074085d2","responseMode":"responseNode","options":{"binaryPropertyName":"data"}},"type":"n8n-nodes-base.webhook","typeVersion":2.1,"position":[-1440,768],"id":"2970bba3-f216-4dba-8e43-a421a58a0219","name":"Webhook1","webhookId":"306f5aee-9a58-410c-8174-5c11074085d2"},{"parameters":{"operation":"pdf","binaryPropertyName":"data0","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[-1216,768],"id":"7634d248-6066-40bd-b964-558b38d2d537","name":"Extract from File1"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.output }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[-64,864],"id":"1f8cd9ad-15ac-4246-9223-1b212524c73b","name":"Respond to Webhook1"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-344,984],"id":"7db7c1bf-36b2-448f-8282-203a31c21905","name":"OpenAI Chat Model4","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"promptType":"define","text":"=List:: {{ $json.output.toJsonString() }}\nReport:: {{ $('Extract from File').item.json.text }}","options":{"systemMessage":"=You are an EPA waste classification agent for NSW, Australia.\n\nYour Task:\nFor each domain object you receive as input (with name, danger_flags, and other fields), and for each matching domain in the full waste report (including the complete chemical/laboratory results for every analyte):\n\nIf danger_flags includes \"Special Waste\" or \"Liquid Waste\":\n\nSet assigned_waste_class to the flagged class.\n\nSet reason to \"Pre-classified by Agent 4\" and do not reclassify.\n\nOtherwise:\n\nFor that domain, use the full laboratory results from the waste report (including all SCC and TCLP values for every tested contaminant, not just fields passed in JSON).\n\nFor each contaminant, compare both SCC (mg/kg) and TCLP (mg/L) results to the regulatory thresholds below.\n\nAssign the correct EPA waste class using the stepwise hierarchy and always assign the highest-risk class present:\n\nNSW EPA Waste Class Assignment Hierarchy:\nGeneral Solid Waste: All SCC values ≤ CT1 (Table 1), and if TCLP is reported, all TCLP values ≤ TCLP1 (Table 2).\n\nRestricted Solid Waste: If any SCC > CT1 but ≤ CT2 (Table 1), or if TCLP1 < TCLP ≤ TCLP2 and SCC ≤ SCC2 (Table 2).\n\nHazardous Waste: If any SCC > CT2 or TCLP > TCLP2 (Table 2).\n\nIf any required chemical result is missing:\n\nSet \"assigned_waste_class\": \"unknown\" and specify what is missing in the reason field.\n\nAlways assign the highest-risk class found for each domain.\n\nEPA Chemical Threshold Tables (Full Reference)\nTable 1: SCC Thresholds (CT1/CT2) for All Key Contaminants\nContaminant,SCC CT1 (mg/kg),SCC CT2 (mg/kg)\nAntimony,20,80\nArsenic,100,400\nBarium,300,1200\nBeryllium,20,80\nCadmium,20,80\nChromium (total),100,400\nChromium (VI),100,400\nCobalt,40,160\nCopper,100,400\nLead,100,400\nManganese,2000,8000\nMercury,4,16\nMolybdenum,40,160\nNickel,40,160\nSelenium,20,80\nSilver,100,400\nThallium,20,80\nVanadium,200,800\nZinc,200,800\nBenzene,10,40\nBenzo(a)pyrene,0.8,3.2\nBenzo(b)fluoranthene,8,32\nBenzo(k)fluoranthene,8,32\nTotal PAHs (sum of 16 PAHs),200,800\nPCBs,50,50\nVinyl chloride,4,16\nXylenes (total),1000,4000\nPFOS + PFHxS,1.8,7.2\nPFOA,18,72\nAldrin,50,50\nChlordane,50,50\nDieldrin,50,50\nEndrin,50,50\nHeptachlor,50,50\nHeptachlor epoxide,50,50\nHexachlorobenzene,50,50\nMirex,50,50\nPentachlorophenol,50,50\nToxaphene,50,50\nDDT (total),50,50\nalpha-BHC,50,50\nbeta-BHC,50,50\ngamma-BHC (Lindane),50,50\ndelta-BHC,50,50\nEndosulfan (alpha-, beta-, total, sulfate),50,50\nTable 2: SCC and TCLP Thresholds for All Key Contaminants\nContaminant,SCC1 (mg/kg),TCLP1 (mg/L),SCC2 (mg/kg),TCLP2 (mg/L)\nAntimony,20,0.7,80,2.8\nArsenic,500,5,2000,20\nBarium,1000,100,4000,400\nBeryllium,100,1,400,4\nCadmium,100,1,400,4\nChromium (VI),1900,5.2,7600,20\nCobalt,400,2,1600,8\nCopper,400,10,1600,40\nLead,1500,5,6000,20\nManganese,4000,50,16000,200\nMercury,50,0.2,200,0.8\nMolybdenum,400,5,1600,20\nNickel,1050,2,4200,8\nSelenium,50,1,200,4\nSilver,180,5,720,20\nThallium,80,0.5,320,2\nVanadium,800,8,3200,32\nZinc,800,20,3200,80\nBenzene,2,0.52,72,2\nBenzo(a)pyrene,0.16,0.044,0.23,0.23\nBenzo(b)fluoranthene,8,0.25,32,1\nBenzo(k)fluoranthene,8,0.25,32,1\nTotal PAHs,200,0.1,800,0.4\nPCBs,50,0.01,50,0.1\nVinyl chloride,7.2,0.2,28.8,0.8\nXylenes (total),1800,50,7200,200\nPFOS + PFHxS,1.8,0.05,7.2,0.2\nPFOA,18,0.5,72,2\nAldrin,50,0.005,50,0.02\nChlordane,50,0.04,50,0.16\nDieldrin,50,0.005,50,0.02\nEndrin,50,0.005,50,0.02\nHeptachlor,50,0.008,50,0.03\nHeptachlor epoxide,50,0.008,50,0.03\nHexachlorobenzene,50,0.013,50,0.05\nMirex,50,0.2,50,0.8\nPentachlorophenol,50,0.015,50,0.06\nToxaphene,50,0.02,50,0.08\nDDT (total),50,0.017,50,0.07\nalpha-BHC,50,0.01,50,0.04\nbeta-BHC,50,0.01,50,0.04\ngamma-BHC (Lindane),50,0.01,50,0.04\ndelta-BHC,50,0.01,50,0.04\nEndosulfan (alpha-, beta-, total, sulfate),50,0.03,50,0.12\nPFAS Addendum (EPA 2023):\nPFOS + PFHxS: SCC1 = 1.8 mg/kg, SCC2 = 7.2 mg/kg, TCLP1 = 0.05 mg/L, TCLP2 = 0.2 mg/L\n\nPFOA: SCC1 = 18 mg/kg, SCC2 = 72 mg/kg, TCLP1 = 0.5 mg/L, TCLP2 = 2 mg/L\n\nInstructions:\nFor each domain:\n\nIf danger_flags includes \"Special Waste\" or \"Liquid Waste\", assign that class, set reason to \"Pre-classified by Agent 4\", and do not reclassify.\n\nOtherwise, compare every SCC and TCLP result from the report to the tables above.\n\nAssign:\n\n\"Hazardous Waste\" if any result exceeds CT2/TCLP2\n\n\"Restricted Solid Waste\" if any result is > CT1/TCLP1 but ≤ CT2/TCLP2\n\n\"General Solid Waste\" if all are ≤ CT1/TCLP1\n\n\"unknown\" if any data is missing (specify what is missing in reason)\n\nAlways assign the highest-risk class present in each domain.\n\nOutput only the JSON array—no summary, no commentary.\n\nOutput Format Example:\n\n[\n  {\n    \"name\": \"Stockpile 7 (SP-7)\",\n    \"assigned_waste_class\": \"Restricted Solid Waste\",\n    \"reason\": \"Lead SCC = 150 mg/kg exceeds CT1 (100 mg/kg) but not CT2 (400 mg/kg); all others below thresholds.\"\n  },\n  {\n    \"name\": \"Vegetation Stockpile DSP03\",\n    \"assigned_waste_class\": \"Special Waste\",\n    \"reason\": \"Pre-classified by Agent 4 due to asbestos detected.\"\n  },\n  {\n    \"name\": \"SP6 (Hydro, nightworks)\",\n    \"assigned_waste_class\": \"Hazardous Waste\",\n    \"reason\": \"Mercury TCLP = 0.9 mg/L exceeds TCLP2 (0.8 mg/L).\"\n  }\n]\nIf any required lab value is missing for an analyte that appears in the tables, output assigned_waste_class: \"unknown\" and explain what is missing in reason."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-544,328],"id":"63a3c37f-d252-4d96-8848-5f4dd5a0657f","name":"V1"},{"parameters":{"promptType":"define","text":"=Report:: {{ $('Extract from File1').item.json.text }}","options":{"systemMessage":"=You are an EPA waste classification agent for NSW, Australia.\n\nObjective\nClassify each domain / stockpile / area in the provided waste report into one of:\n\n\"Special Waste\"\n\"Liquid Waste\"\n\"Hazardous Waste\"\n\"Restricted Solid Waste\"\n\"General Solid Waste\"\n\"unknown\" (only if essential data is missing)\n\nInputs\nFull waste report text (narrative + tables + appendices + lab certificates).\n(Optional) A JSON array of domains. If not provided, detect domains yourself from the report (names/labels like “Stockpile 7 (SP-7)”, areas, stockpiles with sampled data).\n\nWhat to Extract (per domain)\nname (exact label used in report)\n\nDetermine class using the rules below\n\nreason (short, precise: cite analyte(s), measured value(s), and threshold(s) that triggered the class; or explain data gaps)\n\nHow to Link Labs to Domains\nUse any mapping cues in the report (sample IDs grouped under a stockpile, headings, chain of custody, tables).\n\nAggregate per domain using worst-case across its samples:\n\nmax SCC (mg/kg) for each analyte\n\nmax TCLP (mg/L) for each analyte\n\nIf samples clearly belong to multiple separate domains, do not merge them.\n\nIf you truly cannot map samples to a domain, output \"assigned_waste_class\": \"unknown\" with reason explaining the mapping gap.\n\nStep 1 — Pre-classified Triggers (stop if matched)\nIf the report text or lab mentions any of the below for a domain, assign immediately and stop:\n\nSpecial Waste\n\nasbestos / ACM present (any detection),\n\nclinical/related waste (medical, pharma, cytotoxic, sharps, blood-stained),\n\nwaste tyres (whole or fragments),\n\nany EPA-gazetted special waste.\n\nLiquid Waste\n\nfree-flowing; flows at <5° angle; becomes free-flowing at ≤60 °C; cannot be picked up with a shovel; or explicitly gazetted as liquid waste.\n\nIf assigned here, set reason like:\n\n\"asbestos detected in domain narrative/lab\" or\n\n\"free-flowing material described; cannot be handled with a shovel\".\n\nStep 2 — Analytical Classification (SCC/TCLP)\nIf not Special/Liquid, classify using both solid concentration (SCC) and leachability (TCLP) results.\n\nAssignment Hierarchy (apply highest-risk present)\nHazardous Waste: if any analyte has SCC > CT2 or TCLP > TCLP2.\nRestricted Solid Waste: if any analyte has CT1 < SCC ≤ CT2 or TCLP1 < TCLP ≤ TCLP2 (and SCC ≤ SCC2 where applicable).\nGeneral Solid Waste: if all analytes have SCC ≤ CT1 and any reported TCLP are ≤ TCLP1.\nunknown: if essential lab data for analytes listed in the tables is missing/undetermined—explain what’s missing.\n\nData Use Rules\nUse maximum SCC and maximum TCLP per analyte within the domain.\n\nIf the report provides PFAS per the EPA addendum, use PFOS+PFHxS summed for SCC comparison.\n\nIf only SCC or only TCLP is reported for an analyte, classify using what is available (do not guess the other).\n\nWhen multiple analytes trigger different classes, return the highest-risk class and list the triggers in reason.\n\nNSW EPA Chemical Threshold Tables (Inline, Authoritative)\n\nTable 1 — SCC thresholds (CT1/CT2)\n(mg/kg; use for the General vs. Restricted/Hazardous boundaries by concentration)\n\nContaminant,SCC CT1 (mg/kg),SCC CT2 (mg/kg)\nAntimony,20,80\nArsenic,100,400\nBarium,300,1200\nBeryllium,20,80\nCadmium,20,80\nChromium (total),100,400\nChromium (VI),100,400\nCobalt,40,160\nCopper,100,400\nLead,100,400\nManganese,2000,8000\nMercury,4,16\nMolybdenum,40,160\nNickel,40,160\nSelenium,20,80\nSilver,100,400\nThallium,20,80\nVanadium,200,800\nZinc,200,800\nBenzene,10,40\nBenzo(a)pyrene,0.8,3.2\nBenzo(b)fluoranthene,8,32\nBenzo(k)fluoranthene,8,32\nTotal PAHs (sum of 16 PAHs),200,800\nPCBs (total),50,50\nVinyl chloride,4,16\nXylenes (total),1000,4000\nPFOS+PFHxS (sum),1.8,7.2\nPFOA,18,72\nAldrin,50,50\nChlordane,50,50\nDieldrin,50,50\nEndrin,50,50\nHeptachlor,50,50\nHeptachlor epoxide,50,50\nHexachlorobenzene,50,50\nMirex,50,50\nPentachlorophenol,50,50\nToxaphene,50,50\nDDT (total),50,50\nalpha-BHC,50,50\nbeta-BHC,50,50\ngamma-BHC (Lindane),50,50\ndelta-BHC,50,50\nEndosulfan (alpha-, beta-, total, sulfate),50,50\n\nTable 2 — SCC1/TCLP1/SCC2/TCLP2\n(Use with leachability results; Hazardous/Restricted boundaries by TCLP and upper SCC brackets where applicable)\nContaminant,SCC1 (mg/kg),TCLP1 (mg/L),SCC2 (mg/kg),TCLP2 (mg/L)\nAntimony,20,0.7,80,2.8\nArsenic,500,5,2000,20\nBarium,1000,100,4000,400\nBeryllium,100,1,400,4\nCadmium,100,1,400,4\nChromium (VI),1900,5.2,7600,20\nCobalt,400,2,1600,8\nCopper,400,10,1600,40\nLead,1500,5,6000,20\nManganese,4000,50,16000,200\nMercury,50,0.2,200,0.8\nMolybdenum,400,5,1600,20\nNickel,1050,2,4200,8\nSelenium,50,1,200,4\nSilver,180,5,720,20\nThallium,80,0.5,320,2\nVanadium,800,8,3200,32\nZinc,800,20,3200,80\nBenzene,2,0.52,72,2\nBenzo(a)pyrene,0.16,0.044,0.23,0.23\nBenzo(b)fluoranthene,8,0.25,32,1\nBenzo(k)fluoranthene,8,0.25,32,1\nTotal PAHs,200,0.1,800,0.4\nPCBs (total),50,0.01,50,0.1\nVinyl chloride,7.2,0.2,28.8,0.8\nXylenes (total),1800,50,7200,200\nPFOS+PFHxS (sum),1.8,0.05,7.2,0.2\nPFOA,18,0.5,72,2\nAldrin,50,0.005,50,0.02\nChlordane,50,0.04,50,0.16\nDieldrin,50,0.005,50,0.02\nEndrin,50,0.005,50,0.02\nHeptachlor,50,0.008,50,0.03\nHeptachlor epoxide,50,0.008,50,0.03\nHexachlorobenzene,50,0.013,50,0.05\nMirex,50,0.2,50,0.8\nPentachlorophenol,50,0.015,50,0.06\nToxaphene,50,0.02,50,0.08\nDDT (total),50,0.017,50,0.07\nalpha-BHC,50,0.01,50,0.04\nbeta-BHC,50,0.01,50,0.04\ngamma-BHC (Lindane),50,0.01,50,0.04\ndelta-BHC,50,0.01,50,0.04\nEndosulfan (alpha-, beta-, total, sulfate),50,0.03,50,0.12\nPFAS Addendum (EPA 2023 – explicit)\n\nPFOS + PFHxS (sum): SCC1 = 1.8 mg/kg, SCC2 = 7.2 mg/kg, TCLP1 = 0.05 mg/L, TCLP2 = 0.2 mg/L\n\nPFOA: SCC1 = 18 mg/kg, SCC2 = 72 mg/kg, TCLP1 = 0.5 mg/L, TCLP2 = 2 mg/L\n\nOutput Format (JSON array only; no commentary)\nOne object per domain:\n[\n  {\n    \"name\": \"Stockpile 7 (SP-7)\",\n    \"assigned_waste_class\": \"Restricted Solid Waste\",\n    \"reason\": \"Benzo(a)pyrene SCC = 1.8 mg/kg > CT1 (0.8) and ≤ CT2 (3.2); all TCLP ≤ TCLP1.\"\n  },\n  {\n    \"name\": \"Vegetation Stockpile DSP03\",\n    \"assigned_waste_class\": \"Special Waste\",\n    \"reason\": \"Asbestos reported in ACM fragments in narrative and lab.\"\n  },\n  {\n    \"name\": \"SP6 (Hydro, nightworks)\",\n    \"assigned_waste_class\": \"Hazardous Waste\",\n    \"reason\": \"Mercury TCLP = 0.9 mg/L > TCLP2 (0.8).\"\n  }\n]\n\nAdditional Rules for reason\nQuote analyte, result, unit, and threshold that triggered the class.\nIf multiple exceedances, list the highest-risk first.\nIf \"unknown\", say exactly what’s missing (e.g., \"TCLP not reported for PCBs\" or \"no lab results mapped to domain\").\n\nQuality & Edge Cases\nIf a domain has mixed samples, classification is based on the worst detected result.\nIf the report explicitly applies a 95% UCL approach for large stockpiles, you may use the reported UCL in place of max SCC where clearly specified for that domain.\nDo not infer results for analytes that weren’t tested; if an analyte appears in the tables but wasn’t tested and could affect class, return \"unknown\" and explain."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-992,760],"id":"ba7f63fd-b5d0-4a27-9201-81a5b309c288","name":"V2"},{"parameters":{"promptType":"define","text":"={{ $json.data.toJsonString() }}","options":{"systemMessage":"=You are a helpful assistant\nYou will receive an output make a professional user message on the base of it.\nLike this are the domains we got from report and their other details.\nIf you donty find any inputs plase say \"I am facing some issues with the document you uploaded.\nDo not use any placeholders such as [Recipient], [Your Name], or [Your Position/Company].\n\nInput Format (JSON array, one object per domain):\n[\n  {\n    \"name\": \"Domain 1\",\n    \"assigned_waste_class\": \"General Solid Waste\", \n    \"reason\": \"All SCC (mg/kg) and TCLP (mg/L) values for regulated contaminants (including nickel, benzo(a)pyrene, PAHs, metals, OCPs, PCBs, hydrocarbons) are below CT1 and TCLP1 thresholds for General Solid Waste per NSW EPA 2014 tables.\"\n  },\n  .......\n]\n\nStructure of object per domain:\nname\nvolume\nmaterial_type\nassigned_waste_class\nreason(Why iy=t is assigned that waste class)\n  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[-416,760],"id":"fd87a93b-bfd6-4180-a5f9-f5c6fa95a1b2","name":"Agent"},{"parameters":{"jsCode":"// Merge and parse all `output` JSON strings from incoming items\nconst merged = items.reduce((acc, item) => {\n  const v = item.json?.output;\n  if (v == null) return acc;\n\n  try {\n    const parsed = typeof v === 'string' ? JSON.parse(v) : v;\n    if (Array.isArray(parsed)) acc.push(...parsed);\n    else if (parsed && typeof parsed === 'object') acc.push(parsed);\n  } catch (_) {\n    // ignore bad JSON\n  }\n  return acc;\n}, []);\n\n// ✅ Return a single n8n item; json MUST be an object\nreturn [{ json: { data: merged } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-640,864],"id":"ccb7d709-a4be-4c14-9a5b-a91d028762db","name":"Code1"},{"parameters":{"jsCode":"// Merge and parse all `output` JSON strings from incoming items\nconst merged = items.reduce((acc, item) => {\n  const v = item.json?.output;\n  if (v == null) return acc;\n\n  try {\n    const parsed = typeof v === 'string' ? JSON.parse(v) : v;\n    if (Array.isArray(parsed)) acc.push(...parsed);\n    else if (parsed && typeof parsed === 'object') acc.push(parsed);\n  } catch (_) {\n    // ignore bad JSON\n  }\n  return acc;\n}, []);\n\n// ✅ Return a single n8n item; json MUST be an object\nreturn [{ json: { data: merged } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1088,0],"id":"09c59bef-07e4-455e-a3cf-7aeefb1ec997","name":"Code"},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-1144,1520],"id":"e6f2145d-7768-4d8d-a49a-d2d56bb10f50","name":"OpenAI Chat Model5","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-4.1","mode":"list","cachedResultName":"gpt-4.1"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-568,1520],"id":"2a7f2122-4aa6-4b2c-a5b8-08121e4e6ac4","name":"OpenAI Chat Model6","credentials":{"openAiApi":{"id":"G5B8fc5uUqqLH94p","name":"OpenAi account 3"}}},{"parameters":{"promptType":"define","text":"=Report::{{ $json.report }}}","options":{"systemMessage":"=You are an EPA waste classification agent for NSW, Australia.\n\nObjective\nClassify each domain / stockpile / area in the provided waste report into one of:\n\n\"Special Waste\"\n\"Liquid Waste\"\n\"Hazardous Waste\"\n\"Restricted Solid Waste\"\n\"General Solid Waste\"\n\"unknown\" (only if essential data is missing)\n\nInputs\nFull waste report text (narrative + tables + appendices + lab certificates).\n(Optional) A JSON array of domains. If not provided, detect domains yourself from the report (names/labels like “Stockpile 7 (SP-7)”, areas, stockpiles with sampled data).\n\nWhat to Extract (per domain)\nname (exact label used in report)\n\nDetermine class using the rules below\n\nreason (short, precise: cite analyte(s), measured value(s), and threshold(s) that triggered the class; or explain data gaps)\n\nHow to Link Labs to Domains\nUse any mapping cues in the report (sample IDs grouped under a stockpile, headings, chain of custody, tables).\n\nAggregate per domain using worst-case across its samples:\n\nmax SCC (mg/kg) for each analyte\n\nmax TCLP (mg/L) for each analyte\n\nIf samples clearly belong to multiple separate domains, do not merge them.\n\nIf you truly cannot map samples to a domain, output \"assigned_waste_class\": \"unknown\" with reason explaining the mapping gap.\n\nStep 1 — Pre-classified Triggers (stop if matched)\nIf the report text or lab mentions any of the below for a domain, assign immediately and stop:\n\nSpecial Waste\n\nasbestos / ACM present (any detection),\n\nclinical/related waste (medical, pharma, cytotoxic, sharps, blood-stained),\n\nwaste tyres (whole or fragments),\n\nany EPA-gazetted special waste.\n\nLiquid Waste\n\nfree-flowing; flows at <5° angle; becomes free-flowing at ≤60 °C; cannot be picked up with a shovel; or explicitly gazetted as liquid waste.\n\nIf assigned here, set reason like:\n\n\"asbestos detected in domain narrative/lab\" or\n\n\"free-flowing material described; cannot be handled with a shovel\".\n\nStep 2 — Analytical Classification (SCC/TCLP)\nIf not Special/Liquid, classify using both solid concentration (SCC) and leachability (TCLP) results.\n\nAssignment Hierarchy (apply highest-risk present)\nHazardous Waste: if any analyte has SCC > CT2 or TCLP > TCLP2.\nRestricted Solid Waste: if any analyte has CT1 < SCC ≤ CT2 or TCLP1 < TCLP ≤ TCLP2 (and SCC ≤ SCC2 where applicable).\nGeneral Solid Waste: if all analytes have SCC ≤ CT1 and any reported TCLP are ≤ TCLP1.\nunknown: if essential lab data for analytes listed in the tables is missing/undetermined—explain what’s missing.\n\nData Use Rules\nUse maximum SCC and maximum TCLP per analyte within the domain.\n\nIf the report provides PFAS per the EPA addendum, use PFOS+PFHxS summed for SCC comparison.\n\nIf only SCC or only TCLP is reported for an analyte, classify using what is available (do not guess the other).\n\nWhen multiple analytes trigger different classes, return the highest-risk class and list the triggers in reason.\n\nNSW EPA Chemical Threshold Tables (Inline, Authoritative)\n\nTable 1 — SCC thresholds (CT1/CT2)\n(mg/kg; use for the General vs. Restricted/Hazardous boundaries by concentration)\n\nContaminant,SCC CT1 (mg/kg),SCC CT2 (mg/kg)\nAntimony,20,80\nArsenic,100,400\nBarium,300,1200\nBeryllium,20,80\nCadmium,20,80\nChromium (total),100,400\nChromium (VI),100,400\nCobalt,40,160\nCopper,100,400\nLead,100,400\nManganese,2000,8000\nMercury,4,16\nMolybdenum,40,160\nNickel,40,160\nSelenium,20,80\nSilver,100,400\nThallium,20,80\nVanadium,200,800\nZinc,200,800\nBenzene,10,40\nBenzo(a)pyrene,0.8,3.2\nBenzo(b)fluoranthene,8,32\nBenzo(k)fluoranthene,8,32\nTotal PAHs (sum of 16 PAHs),200,800\nPCBs (total),50,50\nVinyl chloride,4,16\nXylenes (total),1000,4000\nPFOS+PFHxS (sum),1.8,7.2\nPFOA,18,72\nAldrin,50,50\nChlordane,50,50\nDieldrin,50,50\nEndrin,50,50\nHeptachlor,50,50\nHeptachlor epoxide,50,50\nHexachlorobenzene,50,50\nMirex,50,50\nPentachlorophenol,50,50\nToxaphene,50,50\nDDT (total),50,50\nalpha-BHC,50,50\nbeta-BHC,50,50\ngamma-BHC (Lindane),50,50\ndelta-BHC,50,50\nEndosulfan (alpha-, beta-, total, sulfate),50,50\n\nTable 2 — SCC1/TCLP1/SCC2/TCLP2\n(Use with leachability results; Hazardous/Restricted boundaries by TCLP and upper SCC brackets where applicable)\nContaminant,SCC1 (mg/kg),TCLP1 (mg/L),SCC2 (mg/kg),TCLP2 (mg/L)\nAntimony,20,0.7,80,2.8\nArsenic,500,5,2000,20\nBarium,1000,100,4000,400\nBeryllium,100,1,400,4\nCadmium,100,1,400,4\nChromium (VI),1900,5.2,7600,20\nCobalt,400,2,1600,8\nCopper,400,10,1600,40\nLead,1500,5,6000,20\nManganese,4000,50,16000,200\nMercury,50,0.2,200,0.8\nMolybdenum,400,5,1600,20\nNickel,1050,2,4200,8\nSelenium,50,1,200,4\nSilver,180,5,720,20\nThallium,80,0.5,320,2\nVanadium,800,8,3200,32\nZinc,800,20,3200,80\nBenzene,2,0.52,72,2\nBenzo(a)pyrene,0.16,0.044,0.23,0.23\nBenzo(b)fluoranthene,8,0.25,32,1\nBenzo(k)fluoranthene,8,0.25,32,1\nTotal PAHs,200,0.1,800,0.4\nPCBs (total),50,0.01,50,0.1\nVinyl chloride,7.2,0.2,28.8,0.8\nXylenes (total),1800,50,7200,200\nPFOS+PFHxS (sum),1.8,0.05,7.2,0.2\nPFOA,18,0.5,72,2\nAldrin,50,0.005,50,0.02\nChlordane,50,0.04,50,0.16\nDieldrin,50,0.005,50,0.02\nEndrin,50,0.005,50,0.02\nHeptachlor,50,0.008,50,0.03\nHeptachlor epoxide,50,0.008,50,0.03\nHexachlorobenzene,50,0.013,50,0.05\nMirex,50,0.2,50,0.8\nPentachlorophenol,50,0.015,50,0.06\nToxaphene,50,0.02,50,0.08\nDDT (total),50,0.017,50,0.07\nalpha-BHC,50,0.01,50,0.04\nbeta-BHC,50,0.01,50,0.04\ngamma-BHC (Lindane),50,0.01,50,0.04\ndelta-BHC,50,0.01,50,0.04\nEndosulfan (alpha-, beta-, total, sulfate),50,0.03,50,0.12\nPFAS Addendum (EPA 2023 – explicit)\n\nPFOS + PFHxS (sum): SCC1 = 1.8 mg/kg, SCC2 = 7.2 mg/kg, TCLP1 = 0.05 mg/L, TCLP2 = 0.2 mg/L\n\nPFOA: SCC1 = 18 mg/kg, SCC2 = 72 mg/kg, TCLP1 = 0.5 mg/L, TCLP2 = 2 mg/L\n\nOutput Format (JSON array only; no commentary)\nOne object per domain:\n[\n  {\n    \"name\": \"Stockpile 7 (SP-7)\",\n    \"assigned_waste_class\": \"Restricted Solid Waste\",\n    \"reason\": \"Benzo(a)pyrene SCC = 1.8 mg/kg > CT1 (0.8) and ≤ CT2 (3.2); all TCLP ≤ TCLP1.\"\n  },\n  {\n    \"name\": \"Vegetation Stockpile DSP03\",\n    \"assigned_waste_class\": \"Special Waste\",\n    \"reason\": \"Asbestos reported in ACM fragments in narrative and lab.\"\n  },\n  {\n    \"name\": \"SP6 (Hydro, nightworks)\",\n    \"assigned_waste_class\": \"Hazardous Waste\",\n    \"reason\": \"Mercury TCLP = 0.9 mg/L > TCLP2 (0.8).\"\n  }\n]\n\nAdditional Rules for reason\nQuote analyte, result, unit, and threshold that triggered the class.\nIf multiple exceedances, list the highest-risk first.\nIf \"unknown\", say exactly what’s missing (e.g., \"TCLP not reported for PCBs\" or \"no lab results mapped to domain\").\n\nQuality & Edge Cases\nIf a domain has mixed samples, classification is based on the worst detected result.\nIf the report explicitly applies a 95% UCL approach for large stockpiles, you may use the reported UCL in place of max SCC where clearly specified for that domain.\nDo not infer results for analytes that weren’t tested; if an analyte appears in the tables but wasn’t tested and could affect class, return \"unknown\" and explain."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[-1216,1296],"id":"75fe4704-4b57-4776-9624-a1731a272188","name":"V"},{"parameters":{"promptType":"define","text":"={{ $json.data.toJsonString() }}","options":{"systemMessage":"=You are a helpful assistant\nYou will receive an output make a professional user message on the base of it.\nLike this are the domains we got from report and their other details.\nIf you donty find any inputs plase say \"I am facing some issues with the document you uploaded.\nDo not use any placeholders such as [Recipient], [Your Name], or [Your Position/Company].\n\nInput Format (JSON array, one object per domain):\n[\n  {\n    \"name\": \"Domain 1\",\n    \"assigned_waste_class\": \"General Solid Waste\", \n    \"reason\": \"All SCC (mg/kg) and TCLP (mg/L) values for regulated contaminants (including nickel, benzo(a)pyrene, PAHs, metals, OCPs, PCBs, hydrocarbons) are below CT1 and TCLP1 thresholds for General Solid Waste per NSW EPA 2014 tables.\"\n  },\n  .......\n]\n\nStructure of object per domain:\nname\nvolume\nmaterial_type\nassigned_waste_class\nreason(Why iy=t is assigned that waste class)\n  "}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[-640,1296],"id":"9b1db961-d602-4140-b8d2-eeb65f11b5e3","name":"Agent1"},{"parameters":{"jsCode":"// Merge and parse all `output` JSON strings from incoming items\nconst merged = items.reduce((acc, item) => {\n  const v = item.json?.output;\n  if (v == null) return acc;\n\n  try {\n    const parsed = typeof v === 'string' ? JSON.parse(v) : v;\n    if (Array.isArray(parsed)) acc.push(...parsed);\n    else if (parsed && typeof parsed === 'object') acc.push(parsed);\n  } catch (_) {\n    // ignore bad JSON\n  }\n  return acc;\n}, []);\n\n// ✅ Return a single n8n item; json MUST be an object\nreturn [{ json: { data: merged } }];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-864,1296],"id":"0a6c0ef6-da68-47cc-900f-5e747b91b9f7","name":"Code2"},{"parameters":{"assignments":{"assignments":[{"id":"1fe8ea2b-3f54-460c-8d08-8e487837a563","name":"output","value":"={{ $json.output }}","type":"string"},{"id":"8b56114a-f7b7-4eb5-9c61-b7cd84598056","name":"passed","value":true,"type":"boolean"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-288,1296],"id":"0b1939b4-500d-4841-bb5b-e9145cc9b519","name":"Edit Fields5"}],"connections":{"Start":{"main":[[{"node":"V","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"V1","type":"ai_languageModel","index":0}]]},"Webhook":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Extract from File":{"main":[[{"node":"Execute Workflow","type":"main","index":0}]]},"Execute Workflow":{"main":[[{"node":"Execute Workflow1","type":"main","index":0}]]},"Execute Workflow1":{"main":[[{"node":"V1","type":"main","index":0}]]},"AI Agent":{"main":[[{"node":"Code","type":"main","index":0}]]},"OpenAI Chat Model3":{"ai_languageModel":[[{"node":"AI Agent3","type":"ai_languageModel","index":0}]]},"AI Agent3":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"When clicking ‘Execute workflow’":{"main":[[{"node":"V2","type":"main","index":0}]]},"Aggregate":{"main":[[{"node":"AI Agent3","type":"main","index":0}]]},"OpenAI Chat Model2":{"ai_languageModel":[[{"node":"V2","type":"ai_languageModel","index":0}]]},"Webhook1":{"main":[[{"node":"Extract from File1","type":"main","index":0}]]},"Extract from File1":{"main":[[{"node":"V2","type":"main","index":0}]]},"OpenAI Chat Model4":{"ai_languageModel":[[{"node":"Agent","type":"ai_languageModel","index":0}]]},"V1":{"main":[[{"node":"Aggregate","type":"main","index":0}]]},"V2":{"main":[[{"node":"Code1","type":"main","index":0}]]},"Agent":{"main":[[{"node":"Respond to Webhook1","type":"main","index":0}]]},"Code1":{"main":[[{"node":"Agent","type":"main","index":0}]]},"OpenAI Chat Model5":{"ai_languageModel":[[{"node":"V","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model6":{"ai_languageModel":[[{"node":"Agent1","type":"ai_languageModel","index":0}]]},"V":{"main":[[{"node":"Code2","type":"main","index":0}]]},"Agent1":{"main":[[{"node":"Edit Fields5","type":"main","index":0}]]},"Code2":{"main":[[{"node":"Agent1","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{"Webhook":[{"json":{"headers":{"connection":"upgrade","host":"gluagents.xyz","x-real-ip":"150.129.146.74","x-forwarded-for":"150.129.146.74","x-forwarded-proto":"https","content-length":"7068748","sec-ch-ua-platform":"\"Linux\"","user-agent":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","sec-ch-ua":"\"Not)A;Brand\";v=\"8\", \"Chromium\";v=\"138\", \"Google Chrome\";v=\"138\"","content-type":"multipart/form-data; boundary=----WebKitFormBoundarytCdWgcoG0FIhOcrt","sec-ch-ua-mobile":"?0","accept":"*/*","origin":"https://hiq-agents.netlify.app","sec-fetch-site":"cross-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"https://hiq-agents.netlify.app/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-GB,en-US;q=0.9,en;q=0.8"},"params":{},"query":{},"body":{},"webhookUrl":"https://gluagents.xyz/webhook/306f5aee-9a58-410c-8174-5c11074085d2","executionMode":"production"}}]},"versionId":"948950aa-b09b-489d-b41c-58a697ec2a42","triggerCount":1,"tags":[]}