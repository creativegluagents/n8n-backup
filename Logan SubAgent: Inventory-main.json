{"createdAt":"2025-04-30T06:20:51.843Z","updatedAt":"2025-07-31T11:12:58.150Z","id":"tTXaIldnOQJGcViW","name":"Logan SubAgent: Inventory-main","active":false,"isArchived":false,"nodes":[{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[2368,640],"id":"29fd04ed-065d-480d-a1ee-998fb3b5de07","name":"OpenAI Chat Model3","credentials":{"openAiApi":{"id":"hpvxzuW3W9YmuUCO","name":"OpenAi account"}}},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tblv3uPWMDNFU2J3E","mode":"list","cachedResultName":"Packing List","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tblv3uPWMDNFU2J3E"},"filterByFormula":"={Session Id}='{{ $('When Executed by Another Workflow').item.json.userId }}'","options":{"fields":["Item name","Item description","Quantity","Co-branded"]}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[688,512],"id":"150f9599-44cf-4def-ba78-20e8e5384dbf","name":"Packing List Search","alwaysOutputData":true,"executeOnce":false,"credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tbl6rtlK9sIexqW7l","mode":"list","cachedResultName":"Inventory","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tbl6rtlK9sIexqW7l"},"filterByFormula":"=","options":{"fields":["Item name","Item description","Quantity","Co-branded"]}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[688,320],"id":"ce509915-33fd-46ec-a9e0-b2dde11f6bfc","name":"Inventory Items Search","alwaysOutputData":true,"executeOnce":false,"credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"aggregate":"aggregateAllItemData","destinationFieldName":"packing_list_items","include":"specifiedFields","fieldsToInclude":"id, Item name, Item description, Quantity, Co-branded","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[912,512],"id":"68d0841c-1209-4d43-b265-3cc07cc6811b","name":"Aggregate Packing List Items","alwaysOutputData":true,"executeOnce":false},{"parameters":{"aggregate":"aggregateAllItemData","destinationFieldName":"inventory_items","include":"specifiedFields","fieldsToInclude":"id, Item name, Item description, Quantity, Co-branded","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[912,320],"id":"1b5dc1e5-6c11-4162-ae3f-ff153953ec1a","name":"Aggregate Inventory Items","alwaysOutputData":true,"executeOnce":false},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('When Executed by Another Workflow').first().json.userId }}","tableName":"logan_inventories_chat_histories","contextWindowLength":2},"type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[2480,640],"id":"51306b66-2301-4a60-9a05-70df374c1f27","name":"Postgres Chat Memory","credentials":{"postgres":{"id":"7OnJqIOLdnbm1qrR","name":"Ashish Supabase"}}},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tbl6rtlK9sIexqW7l","mode":"list","cachedResultName":"Inventory","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tbl6rtlK9sIexqW7l"},"columns":{"mappingMode":"defineBelow","value":{"Item name":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_name', ``, 'string') }}","id":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('id__using_to_match_', ``, 'string') }}","Item description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_description', ``, 'string') }}","Quantity":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Quantity', ``, 'number') }}","Co-branded":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Co-branded', ``, 'string') }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Item name","displayName":"Item name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Item description","displayName":"Item description","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Quantity","displayName":"Quantity","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Co-branded","displayName":"Co-branded","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtableTool","typeVersion":2.1,"position":[2608,640],"id":"bce7c861-06c1-4e5d-a72d-264d7112219e","name":"create_or_update_inventory_items","credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"mode":"combineBySql","query":"SELECT input1.inventory_items, input2.packing_list_items FROM input1 OUTER JOIN input2"},"type":"n8n-nodes-base.merge","typeVersion":3,"position":[1120,416],"id":"8c77b003-35cb-45bf-8474-4ff6cd98a8f2","name":"Merge","alwaysOutputData":true,"executeOnce":false},{"parameters":{"model":{"__rl":true,"value":"gpt-4o","mode":"list","cachedResultName":"gpt-4o"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1568,192],"id":"85069cc4-2f87-4e6b-9af3-cbb7c787f2a3","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"hpvxzuW3W9YmuUCO","name":"OpenAi account"}}},{"parameters":{"operation":"create","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tblv3uPWMDNFU2J3E","mode":"list","cachedResultName":"Packing List","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tblv3uPWMDNFU2J3E"},"columns":{"mappingMode":"defineBelow","value":{"Item name":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_name', ``, 'string') }}","Item description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_description', ``, 'string') }}","Quantity":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Quantity', ``, 'number') }}","Session Id":"={{ $('When Executed by Another Workflow').item.json.userId }}"},"matchingColumns":[],"schema":[{"id":"Item name","displayName":"Item name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Item description","displayName":"Item description","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Quantity","displayName":"Quantity","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Session Id","displayName":"Session Id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Co-branded","displayName":"Co-branded","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtableTool","typeVersion":2.1,"position":[1808,192],"id":"df86eaae-3fb2-4bf4-93f1-c998cd2a1068","name":"create_items","credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"operation":"deleteRecord","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tblv3uPWMDNFU2J3E","mode":"list","cachedResultName":"Packing List","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tblv3uPWMDNFU2J3E"},"id":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Record_ID', ``, 'string') }}"},"type":"n8n-nodes-base.airtableTool","typeVersion":2.1,"position":[1920,192],"id":"ebf89d52-e9a8-41d1-8b35-a50dee4c97fc","name":"delete_items","credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tblv3uPWMDNFU2J3E","mode":"list","cachedResultName":"Packing List","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tblv3uPWMDNFU2J3E"},"filterByFormula":"={Session Id}='{{ $('When Executed by Another Workflow').item.json.userId }}'","options":{"fields":["Item name"]}},"type":"n8n-nodes-base.airtableTool","typeVersion":2.1,"position":[2048,192],"id":"941eb181-1052-4ee3-ad94-73147a646b43","name":"search_items","credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"operation":"update","base":{"__rl":true,"value":"appjfd7iGxbyV0sb2","mode":"list","cachedResultName":"Logan New","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2"},"table":{"__rl":true,"value":"tblv3uPWMDNFU2J3E","mode":"list","cachedResultName":"Packing List","cachedResultUrl":"https://airtable.com/appjfd7iGxbyV0sb2/tblv3uPWMDNFU2J3E"},"columns":{"mappingMode":"defineBelow","value":{"Quantity":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Quantity', ``, 'number') }}","id":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('id__using_to_match_', ``, 'string') }}","Item name":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_name', ``, 'string') }}","Item description":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Item_description', ``, 'string') }}","Co-branded":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Co-branded', ``, 'string') }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Item name","displayName":"Item name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Item description","displayName":"Item description","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Quantity","displayName":"Quantity","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Session Id","displayName":"Session Id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Co-branded","displayName":"Co-branded","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtableTool","typeVersion":2.1,"position":[2720,640],"id":"8156991f-5dd3-4441-95f7-53c7875cad1b","name":"update_packing_list_items","credentials":{"airtableTokenApi":{"id":"bDVfyeKNIcs0NKE7","name":"Gluagents Airtable"}}},{"parameters":{"promptType":"define","text":"=**Update the packing list to exactly the following items:**\n{{ $('Analyze packing list image').item.json.content }}\n","options":{"systemMessage":"={{ ($json.content && $json.content.trim().length > 0) ? $json.content : `\n### üß† Packing List Sync Agent\n\nYou are an AI agent that synchronizes the **packing list** in Airtable, knowing this schema:\n\n* **Item name** (required)\n* **Item description** (optional)\n* **Quantity** (positive integer)\n* **Co-branded** (optional ‚ÄúYes‚Äù/‚ÄúNo‚Äù)\n\n---\n\n#### Behavior Rules:\n\n1. Parse the user‚Äôs JSON input of new packing-list items.\n2. If invalid or empty, do nothing.\n3. Delete **all** existing packing list records (if there are any).\n4. Create new records for each item, mapping fields exactly as per schema.\n5. If the quantity is sent as a string, feel free to cast it to a positive integer.\n6. Skip Item description if it‚Äôs not provided.\n7. Do **not** expose any tool names such as Airtable or implementation details.\n8. On failure, respond politely and ask the user to retry.\n9. After successfully updating the packing list, thank the user by name and prompt them to upload each item‚Äôs image‚Äîone at a time‚Äîwith the **item name** as the caption.\n\n---\n\n#### Tools Available:\n\n* search_items\n* delete_items\n* create_items\n` }}\n","returnIntermediateSteps":true}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[1792,-48],"id":"bdeef67e-362e-4cbb-8826-5436273bdcc0","name":"Process packing list","executeOnce":true,"alwaysOutputData":true,"retryOnFail":true,"onError":"continueErrorOutput"},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('When Executed by Another Workflow').item.json.userId }}","tableName":"logan_inventories_chat_histories","contextWindowLength":2},"type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[1680,192],"id":"082c308b-b022-4012-b204-1d0163e8ab72","name":"Postgres Chat Memory Packing List","credentials":{"postgres":{"id":"wO8bHC1OHkCa7Wux","name":"Gluagents Supabase"}}},{"parameters":{"resource":"image","operation":"analyze","modelId":{"__rl":true,"value":"chatgpt-4o-latest","mode":"list","cachedResultName":"CHATGPT-4O-LATEST"},"text":"=## üì¶ **Process Packing List Image**\n\nYou are an AI that extracts item details from **packing list** images.\n\n---\n\n### ‚úÖ **What qualifies as a valid packing list image:**\n\n* The image contains a structured **table** or clearly formatted **list**.\n* Each entry includes at least:\n\n  * an **Item name**, and\n  * a **Quantity**.\n* It may optionally include:\n\n  * an **Item description**.\n* Common keywords in the image may include:\n\n  * *\"Packing List\"*, *\"Item Information\"*, *\"Order\"*, *\"Units\"*, etc.\n\n---\n\n### üîÑ **Expected Output (if valid):**\n\nIf the image **is a packing list**, respond with:\n{\n  \"items\": [\n    {\n      \"Item name\": \"string\",\n      \"Quantity\": \"string or number\",\n      \"Item description\": \"string (optional)\"\n    }\n  ]\n}\n\n---\n\n### üö´ **If the image is not a packing list:**\n\nReturn an empty object:\n{}\n","inputType":"base64","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[1120,-48],"id":"62872142-9552-4712-9083-642ce62c6bad","name":"Analyze packing list image","alwaysOutputData":false,"executeOnce":false,"credentials":{"openAiApi":{"id":"hpvxzuW3W9YmuUCO","name":"OpenAi account"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"loose","version":2},"conditions":[{"id":"d9841de9-a495-4eba-a4fa-f95b9ba6eea2","leftValue":"={{ $json.userMessage.photo[2] }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}},{"id":"843b06aa-10cb-465a-9835-ad3e879601fb","leftValue":"={{ $json.userMessage.caption }}","rightValue":"","operator":{"type":"string","operation":"notExists","singleValue":true}}],"combinator":"and"},"looseTypeValidation":true,"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[464,320],"id":"d487ce6f-abaa-40a7-8b2c-8c7a62e05618","name":"Is packing list image"},{"parameters":{"jsCode":"const message = $('When Executed by Another Workflow').first().json.userMessage;\n\nlet userInput = '';\n\nconst caption = message.caption;\nconst text = message.text;\n\nif (caption) {\n  userInput = `Find the packing list or inventory item that best matches this name and create or update it in the inventory: ${caption}.`;\n} else {\n  userInput = text;\n}\nreturn [\n  {\n    json: {\n      user_input: userInput\n    }\n  }\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1648,432],"id":"185d904e-a05a-43b0-a962-ef0ffa7ef756","name":"Code"},{"parameters":{"promptType":"define","text":"={{ $('Code').item.json.user_input }}\n\nüì• Provided Context\nYou are given full datasets from both tables:\n* **Inventory Items**:\n  `{{ $('Merge').item.json.inventory_items.toJsonString() }}`\n\n* **Packing List Items**:\n  `{{ $('Merge').item.json.packing_list_items.toJsonString() }}`\n\nUse only this context. Never assume or fetch external data.\n\nGreet the user using their first name:\n  '{{ $('When Executed by Another Workflow').first().json.userMessage.from.first_name }}'","options":{"systemMessage":"={{ ($json.content && $json.content.trim().length > 0) ? $json.content : `\n### üß† Inventory & Packing List Management\n\nYou are an AI assistant that manages both an inventory and a packing list, both stored in Airtable. You know the exact schemas:\n\n---\n\n#### üì¶ Inventory Table Schema\n\n* Item name (required string)\n* Item description (optional string)\n* Quantity (positive integer)\n* Co-branded (optional: ‚ÄúYes‚Äù or ‚ÄúNo‚Äù)\n\n---\n\n#### üìã Packing List Table Schema\n\n* Item name (required string)\n* Item description (optional string)\n* Quantity (positive integer)\n* Co-branded (optional: ‚ÄúYes‚Äù or ‚ÄúNo‚Äù)\n\n---\n\nIf the quantity is sent as a string, feel free to cast it to a positive integer.\n\n### ‚öôÔ∏è Behavior Rules\n\n#### 1. Inventory Management\n\n* Match items by Item name (case-insensitive).\n* Use the item's Item description, Quantity, and Co-branded if available.\n* Call create_or_update_inventory_items to create or update the record.\n\n#### 2. Packing List Management\n\n* Only update items that already exist in the packing list.\n* Call update_packing_list_items if there are updates.\n* Do not add new packing list items.\n* Skip any optional fields that are not provided.\n\n---\n\n### üîí Additional Guidelines\n\n* As the first step, ask them to upload or provide the packing list for processing.\n* Never mention tool names such as Airtable, APIs, or implementation details.\n* On errors or mismatches, respond politely and ask the user to try again.\n\n---\n\n### ‚úÖ Response Style\n\n* Be clear, concise, and helpful.\n* Format responses using only the fields defined in the schemas.\n* Always act strictly based on the JSON context provided.\n` }}","returnIntermediateSteps":true}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[2512,416],"id":"ab84311f-1530-477e-923a-0b09d736b9c7","name":"Process inventory","executeOnce":true,"alwaysOutputData":true,"retryOnFail":true,"onError":"continueErrorOutput"},{"parameters":{"jsCode":"// Access the binary data\nconst binaryData = items[0].binary.data;\n\n// Set the correct MIME type\nbinaryData.mimeType = 'image/jpeg'; // or 'image/png', depending on your file\n\nreturn items;"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[912,-48],"id":"9ede71f0-fda5-4d4f-8569-b55d407f800f","name":"convert MIME type"},{"parameters":{"resource":"file","fileId":"={{ $json.userMessage.photo[2].file_id }}"},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[688,-48],"id":"98ac541a-313a-4fbc-a428-f92df575827e","name":"Get packing list image","webhookId":"001dc3b8-048f-4950-84fe-625719523558","credentials":{"telegramApi":{"id":"oOu5uBhHVvactaW4","name":"LOGAN"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[2848,640],"id":"c301301d-8a8c-4798-85f4-14bcd9c538ec","name":"Think"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[2160,192],"id":"12989099-e166-4c58-b459-d561df12f0db","name":"Think1"},{"parameters":{"assignments":{"assignments":[{"id":"236bb9a5-6bee-413f-b159-0ece31335f74","name":"output","value":"Something went wrong, please try again.","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2512,-16],"id":"7f0c664c-fc46-4abd-836d-1aec62454bca","name":"Edit Fields"},{"parameters":{"assignments":{"assignments":[{"id":"0a2b414b-cacd-4800-a2e4-f38acb7fe876","name":"output","value":"Something went wrong, please try again.","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3040,512],"id":"03b11aea-b803-4b01-8e40-a3cbd21ddc18","name":"Edit Fields1"},{"parameters":{"workflowInputs":{"values":[{"name":"userMessage","type":"any"},{"name":"userId"}]}},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1.1,"position":[224,320],"id":"020338f3-9335-4d7f-9c19-8482f6c6b10a","name":"When Executed by Another Workflow"},{"parameters":{"operation":"get","documentURL":"11Le34GD5YdkgNci5uYSTJE96BrfuyHEQc3yFmgkcQy0"},"type":"n8n-nodes-base.googleDocs","typeVersion":2,"position":[1968,432],"id":"da952075-67eb-4d5f-b7ca-7e1ff79b8c62","name":"Get a document","credentials":{"googleDocsOAuth2Api":{"id":"T0uBlmGwFoQcaNzt","name":"Gluagents Google Docs"}}},{"parameters":{"operation":"get","documentURL":"145cwcnjmv5G1wY0TxvGSi2VgT-x_M7LEuPpyx-47xM4"},"type":"n8n-nodes-base.googleDocs","typeVersion":2,"position":[1408,-48],"id":"53dffbf7-afda-4794-8f97-45df8d6c8413","name":"Get a document1","credentials":{"googleDocsOAuth2Api":{"id":"T0uBlmGwFoQcaNzt","name":"Gluagents Google Docs"}}}],"connections":{"OpenAI Chat Model3":{"ai_languageModel":[[{"node":"Process inventory","type":"ai_languageModel","index":0}]]},"Packing List Search":{"main":[[{"node":"Aggregate Packing List Items","type":"main","index":0}]]},"Inventory Items Search":{"main":[[{"node":"Aggregate Inventory Items","type":"main","index":0}]]},"Aggregate Packing List Items":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Aggregate Inventory Items":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"Process inventory","type":"ai_memory","index":0}]]},"create_or_update_inventory_items":{"ai_tool":[[{"node":"Process inventory","type":"ai_tool","index":0}]]},"Merge":{"main":[[{"node":"Code","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Process packing list","type":"ai_languageModel","index":0}]]},"create_items":{"ai_tool":[[{"node":"Process packing list","type":"ai_tool","index":0}]]},"delete_items":{"ai_tool":[[{"node":"Process packing list","type":"ai_tool","index":0}]]},"search_items":{"ai_tool":[[{"node":"Process packing list","type":"ai_tool","index":0}]]},"update_packing_list_items":{"ai_tool":[[{"node":"Process inventory","type":"ai_tool","index":0}]]},"Process packing list":{"main":[[],[{"node":"Edit Fields","type":"main","index":0}]]},"Postgres Chat Memory Packing List":{"ai_memory":[[{"node":"Process packing list","type":"ai_memory","index":0}]]},"Analyze packing list image":{"main":[[{"node":"Get a document1","type":"main","index":0}]]},"Is packing list image":{"main":[[{"node":"Get packing list image","type":"main","index":0}],[{"node":"Inventory Items Search","type":"main","index":0},{"node":"Packing List Search","type":"main","index":0}]]},"Code":{"main":[[{"node":"Get a document","type":"main","index":0}]]},"Process inventory":{"main":[[],[{"node":"Edit Fields1","type":"main","index":0}]]},"convert MIME type":{"main":[[{"node":"Analyze packing list image","type":"main","index":0}]]},"Get packing list image":{"main":[[{"node":"convert MIME type","type":"main","index":0}]]},"Think":{"ai_tool":[[{"node":"Process inventory","type":"ai_tool","index":0}]]},"Think1":{"ai_tool":[[{"node":"Process packing list","type":"ai_tool","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Is packing list image","type":"main","index":0}]]},"Get a document":{"main":[[{"node":"Process inventory","type":"main","index":0}]]},"Get a document1":{"main":[[{"node":"Process packing list","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"96338ba6-aa20-4c82-aa95-a360a541000f","triggerCount":1,"tags":[{"createdAt":"2025-04-30T06:20:39.113Z","updatedAt":"2025-04-30T06:21:08.644Z","id":"Y9xvRKL6uE6KQeu6","name":"logan"}]}