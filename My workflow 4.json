{"createdAt":"2025-03-28T06:58:25.373Z","updatedAt":"2025-03-28T06:58:25.373Z","id":"d1lGhIXNcJHHG3IG","name":"My workflow 4","active":false,"isArchived":false,"nodes":[{"parameters":{"updates":["message"],"additionalFields":{}},"name":"Telegram Trigger - Start","type":"n8n-nodes-base.telegramTrigger","typeVersion":1,"position":[-1540,100],"id":"012b7578-a840-4e49-a232-e5b2e717989f","webhookId":"d783f06f-c607-4958-9667-5b8c57118671"},{"parameters":{"chatId":"={{$node['Telegram Trigger - Start'].json.chat.id}}","text":"Please take a picture of the packing list containing the items.","additionalFields":{}},"name":"Telegram Reply - Request Photo","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[-1320,100],"id":"9826f63d-f86e-4530-914e-aec716f64c0e","webhookId":"45793027-b809-457c-9b19-775506bf64aa","credentials":{"telegramApi":{"id":"BDlPG4azueZ1lWqP","name":"Telegram account 3"}}},{"parameters":{"updates":["photo"],"additionalFields":{}},"name":"Telegram Trigger - Photo","type":"n8n-nodes-base.telegramTrigger","typeVersion":1,"position":[-1100,100],"id":"7d2b6b35-cbf4-4b95-8346-63d97842ed1c","webhookId":"9881241f-646a-458e-81f3-335ff2e9e88e"},{"parameters":{"chatId":"={{$node['Telegram Trigger - Photo'].json.chat.id}}","text":"Is this item co-branded? (Y/N) If the packing list has multiple items, I'll assume the same for all unless you specify.","additionalFields":{}},"name":"Telegram Reply - Co-branded","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[-880,100],"id":"0a9ad2ff-b4f8-475a-9ff2-fe9346d7b951","webhookId":"72e2d5f1-e684-4dc5-aa22-cd3ca3709932"},{"parameters":{"updates":["message"],"additionalFields":{}},"name":"Telegram Trigger - Co-branded Response","type":"n8n-nodes-base.telegramTrigger","typeVersion":1,"position":[-660,100],"id":"428d86e5-993b-4720-bfda-af6a26db1f97","webhookId":"6bfc00b2-050d-4767-b0bc-447f20cee3e6"},{"parameters":{},"name":"AI Agent - Analyze Packing List","type":"n8n-nodes-base.aiAgent","typeVersion":1,"position":[-440,100],"id":"0aa182bb-a0fc-45bb-b47f-bdf48a7d0894","credentials":{},"notes":"Expects a single packing list image with multiple items."},{"parameters":{},"name":"Switch - Multiple Items","type":"n8n-nodes-base.switch","typeVersion":1,"position":[-220,100],"id":"c6995b2f-2e17-4515-9df2-c19983ffb145"},{"parameters":{"chatId":"={{$node['Telegram Trigger - Photo'].json.chat.id}}","text":"I detected multiple items in the packing list. Are all items co-branded the same way? (Y/N) Or send individual Y/N for each: {{$node['AI Agent - Analyze Packing List'].json.map(item => item.name).join(', ')}}","additionalFields":{}},"name":"Telegram Reply - Clarify Multiple Items","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[0,0],"id":"6f7e5704-f569-4f26-93d3-328cf194d87e","webhookId":"b83d2373-e240-4a06-83a0-9d138be8a3ac"},{"parameters":{"updates":["message"],"additionalFields":{}},"name":"Telegram Trigger - Multiple Items Response","type":"n8n-nodes-base.telegramTrigger","typeVersion":1,"position":[220,0],"id":"48f8d03c-8f93-48c5-b2d0-2b789a9cd3f9","webhookId":"f2bcde61-ec04-43fa-9fef-cf6957efe9be"},{"parameters":{},"name":"Function - Assign Co-branded","type":"n8n-nodes-base.function","typeVersion":1,"position":[0,200],"id":"a317cba7-7046-4ad9-82e9-c6ca8c0f962e"},{"parameters":{"operation":"lookup","sheetId":"YOUR_GOOGLE_SHEET_ID","range":"Inventory!A:E","lookupColumn":"A","lookupValue":"={{$item(0).$node['Function - Assign Co-branded'].json.name}}","options":{}},"name":"Google Sheets - Check Item","type":"n8n-nodes-base.googleSheets","typeVersion":1,"position":[220,200],"id":"142a952c-cc93-459a-9c05-db5762b0bc6a"},{"parameters":{},"name":"Switch - Item Exists","type":"n8n-nodes-base.switch","typeVersion":1,"position":[440,200],"id":"3a5ffccd-de7d-4c3d-856b-7e03ed6283e0"},{"parameters":{"operation":"append","sheetId":"YOUR_GOOGLE_SHEET_ID","range":"Inventory!A:E","options":{}},"name":"Google Sheets - Add New Items","type":"n8n-nodes-base.googleSheets","typeVersion":1,"position":[660,100],"id":"4ecd5438-671f-4a93-97fb-3b3fea229a28"},{"parameters":{"operation":"update","sheetId":"YOUR_GOOGLE_SHEET_ID","range":"Inventory!A:E","key":"A","options":{}},"name":"Google Sheets - Update Quantity","type":"n8n-nodes-base.googleSheets","typeVersion":1,"position":[660,300],"id":"e70e3596-e6ed-43cc-a5d6-e6c6ef1a4eb0"},{"parameters":{"chatId":"={{$node['Telegram Trigger - Photo'].json.chat.id}}","text":"Thanks, I just added the following to the inventory:\n{{ $item(0).$node['Function - Assign Co-branded'].json.map(item => `${item.name} (Qty: ${item.quantity})`).join('\n') }}","additionalFields":{}},"name":"Telegram Reply - Summary","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[880,200],"id":"2f5f6747-f7a0-4959-8da3-8fca10cf5fd0","webhookId":"66d201d5-0a86-4950-876a-e2799568e116"}],"connections":{},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"b988060d-494f-4533-a792-41236de2ccc2","triggerCount":0,"tags":[]}