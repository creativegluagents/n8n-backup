{"createdAt":"2025-04-11T09:32:37.972Z","updatedAt":"2025-04-17T13:41:12.433Z","id":"T4rcWrW3vRTqXS2p","name":"FIH-RAG-Perplexity-Fallback","active":false,"isArchived":false,"nodes":[{"parameters":{"promptType":"define","text":"={{ $json.choices[0].message.content }}","messages":{"messageValues":[{"message":"=Please Frame that user text in good way and return that \n"}]}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.5,"position":[20,-140],"id":"f57d6d26-b909-47cb-bffe-c56aab3d6334","name":"Basic LLM Chain"},{"parameters":{},"type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1,"position":[-420,-140],"id":"ce10abdd-1a39-4c4d-bc65-b25cd23f473e","name":"Execute Workflow Trigger"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[108,80],"id":"8fc85b4d-175f-4082-a11b-fbcb770f0dd1","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"hpvxzuW3W9YmuUCO","name":"OpenAi account"}}},{"parameters":{"method":"POST","url":"https://api.perplexity.ai/chat/completions","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer 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"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"sonar\",\n  \"messages\": [\n    {\n      \"role\": \"user\",\n      \"content\": \"{{ $json.query }}\"\n    }\n  ]\n}\n","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-200,-140],"id":"e6d67b57-40e7-4a87-baa4-ec7eff5c5f37","name":"HTTP Request"}],"connections":{"Execute Workflow Trigger":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"HTTP Request":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"1b26e5ea-437b-4d7c-9863-4e3f66a30afb","triggerCount":0,"tags":[{"createdAt":"2025-04-11T09:32:50.778Z","updatedAt":"2025-04-11T09:32:50.778Z","id":"kFsZMecydoERWcYK","name":"FIH-subworkflows"}]}