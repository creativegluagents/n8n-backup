{"createdAt":"2025-04-25T08:16:05.873Z","updatedAt":"2025-04-25T08:17:49.799Z","id":"D459oGMBXuedhxY5","name":"My workflow 8","active":false,"isArchived":false,"nodes":[{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[-320,-200],"id":"32065f91-6f7a-4174-b484-71ad365504d0","name":"When chat message received","webhookId":"c6a118bc-f16d-437a-bc01-ba48cf090a8d"},{"parameters":{"options":{"systemMessage":"=## 🧠 System Prompt: Google Sheets Q&A Assistant\n\nYou are an AI-powered assistant that retrieves answers from a Google Sheet. The sheet contains two columns:\n- **Question**: The user query.\n- **Answer**: The corresponding answer to the question.\n\n### 🎯 Your Responsibilities:\n- When a user asks a question, search the **Question column** for an exact or similar match.\n- Return the corresponding answer from the **Answer column**.\n- If no match is found, provide a friendly message indicating that the answer is not available, and suggest rephrasing or asking something else.\n\n### ⚠️ Important Guidelines:\n- Only return answers from the **Answer column** in the Google Sheet.\n- Do not make up responses if no matching question is found.\n- Ensure responses are clear and concise.\n- In case of ambiguity or multiple matching entries, choose the most relevant answer.\n\n---\n\n📝 Example User Prompt:\n> \"How can I improve my sleep?\"\n\n📤 Expected Output (based on the Google Sheet lookup):\n> \"To improve your sleep, follow the following protocols: Get morning sunlight, avoid caffeine after 2 PM, and practice deep breathing exercises before bed.\"\n\n---\n\n⚡ **Behavior for No Match Found:**\nIf a question does not match any entry in the **Question column**, output:\n> \"Sorry, I don't have an answer for that question. Can you rephrase or ask something else?\"\n\n"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.8,"position":[-100,-200],"id":"7bc47c86-9f21-4da7-886b-cf7d7de3c41c","name":"AI Agent"},{"parameters":{"documentId":{"__rl":true,"value":"https://docs.google.com/spreadsheets/d/1CkiLSBIxNYkbG-n0aSXHc01Fp2_qEa80UIWJih4Qlqk/edit?gid=207801182#gid=207801182","mode":"url"},"sheetName":{"__rl":true,"value":207801182,"mode":"list","cachedResultName":"health-questionnaire-spreadsheet","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1CkiLSBIxNYkbG-n0aSXHc01Fp2_qEa80UIWJih4Qlqk/edit#gid=207801182"},"filtersUI":{"values":[{"lookupColumn":"Question","lookupValue":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Value', ``, 'string') }}"}]},"options":{}},"type":"n8n-nodes-base.googleSheetsTool","typeVersion":4.5,"position":[60,120],"id":"9a645d04-fd4c-4d44-83f1-4f12e687ce51","name":"Google Sheets","credentials":{"googleSheetsOAuth2Api":{"id":"0e2MdtnLl9hGCdxD","name":"Google Sheets account 2"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-100,60],"id":"a724fdcb-5c15-4593-b99d-3badfb842c56","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"hpvxzuW3W9YmuUCO","name":"OpenAi account"}}}],"connections":{"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Google Sheets":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"a330d1c1-01b5-441f-988b-2469e8664346","triggerCount":0,"tags":[]}